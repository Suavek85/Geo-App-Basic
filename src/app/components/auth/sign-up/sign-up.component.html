<mat-vertical-stepper [linear]="isLinear" #stepper>
  <!-- STEP 1 -->
  <mat-step [stepControl]="secondFormGroup">
    <form [formGroup]="secondFormGroup">
      <ng-template matStepLabel>Enter username - REQUIRED </ng-template>
      <p>Pick your username for your journey with Geo app.</p>
      <mat-form-field>
        <input
          matInput
          placeholder="Username"
          formControlName="secondCtrl"
          required
        />
        <mat-error >Mininum 3 and max 12 characters long</mat-error>
      </mat-form-field>
      <div>
        <button mat-button matStepperPrevious>Back</button>
        <button mat-button matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>

  <!-- STEP 2-->

  <mat-step >
    <section class="signup-form">
      <form
        class="form-wrapper"
        fxLayout="column"
        fxLayoutGap="10px"
        #f="ngForm"
        (ngSubmit)="onSubmit(f)"
      >
        <ng-template matStepLabel>Sign up - OPTIONAL</ng-template>
        <p>Creating profile is optional. If you just want to play around, skip this step.</p>

        <!-- EMAIL-->
        <mat-form-field>
          <input
            matInput
            type="email"
            placeholder="Your email"
            ngModel
            name="email"
            #emInput="ngModel"
            required
          />
          <mat-error *ngIf="emInput.hasError('required')"
            >Field must not be empty.</mat-error
          >
          <mat-error *ngIf="!emInput.hasError('required')"
            >Email format is invalid.</mat-error
          >
        </mat-form-field>

        <!-- PASSWORD-->
        <mat-form-field hintLabel="Minimum 6 characters">
          <input
            matInput
            type="password"
            placeholder="Your password"
            ngModel
            name="password"
            minlength="6"
            #pwInput="ngModel"
            required
          />
          <mat-hint align="end">{{ pwInput.value?.length }} / 6</mat-hint>
          <mat-error>Has to be minimum 6 characters long</mat-error>
        </mat-form-field>

        <!-- DATEPICKER -->
        <mat-form-field>
          <input
            matInput
            [matDatepicker]="picker"
            [max]="maxDate"
            placeholder="Your birthdate"
            ngModel
            name="birthday"
            required
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <!--CHECK BOX-->
        <mat-checkbox ngModel name="agree" color="primary" required
          >Agree to terms</mat-checkbox
        >

        <!--SUBMIT BUTTON-->
        <button
          class="button__submit"
          type="submit"
          mat-flat-button
          matStepperNext
          color="primary"
          [disabled]="f.invalid"
        >
          Submit
        </button>
        <!--SKIP BUTTON-->
        <button
          class="button__submit"
          mat-flat-button
          matStepperNext
          color="primary"
        >
          Skip
        </button>
      </form>
    </section>
  </mat-step>

  <!-- STEP 3-->
  <mat-step label="Step 3">
    <ng-template matStepLabel>Done</ng-template>
    You're ready to go!
    <div>
      <button style="margin-top: 20px; margin-bottom: 20px" mat-flat-button color="primary">
        <a style="color: white" routerLink="/dashboard">Take me to Dashboard</a>
      </button>
    </div>
    <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-button (click)="stepper.reset()">Reset</button>
    </div>
  </mat-step>
</mat-vertical-stepper>
